/**
 * JavaScript package
 * @module     factor_bioauth
 * @author     eabyas
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */ define(["jquery","core/config","core/str","core/notification"],function(e,t,r,s){return{enroll_audio:function(r,o){e("#submit").click(function(r){r.preventDefault(),e(".loader").show(),e("#submit").prop("disabled"),e.ajax({url:t.wwwroot+"/admin/tool/mfa/factor/bioauth/process.php",type:"POST",data:{kvsurl:o},success:function(r){e(".loader").hide(),e("#submit").prop("disabled","false"),"Success"==r||"Success"==r.responseText?window.location.href=t.wwwroot+"/my":s.alert("",r)},error:function(t){e(".loader").hide(),e("#submit").val("Click to Verify again"),e("#submit").prop("disabled","false"),0==t.status?s.alert("Error","Something went wrong...! Please try again after sometime.","OK"):"Already Enrolled"==t.responseText?s.alert("Already Enrolled","The user already enrolled in voice biometric","OK"):"L"==t.responseText?s.alert("Insufficient speech length..","The required speech length is not sufficient for enrolment","OK"):400==t.status?s.alert("Bad Request","Bad Request - An invalid value was specified for one of the query parameters in the request URL","OK"):401==t.status?s.alert("Unauthorized","Unauthorized – The request requires a user authentication","OK"):403==t.status?s.alert("Forbidden","Forbidden – The server understood the request, but is refusing it or the access is not allowed","OK"):404==t.status?s.alert("Not found","Not found – There is no resource behind the URI..","OK"):405==t.status?s.alert("Method Not Allowed","Method Not Allowed","OK"):413==t.status?s.alert("Limit Exceeds","Size of uploaded file exceeds size limit","OK"):s.alert("",t)}})})},authenticate_audio:function(r,o){e("#submit").click(function(r){r.preventDefault(),e(".loader").show(),e("#submit").prop("disabled"),e.ajax({url:o,type:"POST",data:formdata,contentType:!1,cache:!1,processData:!1,success:function(r){console.log(r),e(".loader").hide(),e("#submit").prop("disabled","false"),r>=80?window.location.href=t.wwwroot+"/my":(s.alert("",r),e("#submit").val("Record Again.."))},error:function(t){console.log(t),e(".loader").hide(),e("#submit").prop("disabled","false"),0==t.status?s.alert("Error","Something went wrong...! Please try again after sometime.","OK"):"L"==t.responseText?s.alert("Insufficient speech length","The required speech length is not sufficient for enrolment","OK"):400==t.status?s.alert("Bad Request","Bad Request - An invalid value was specified for one of the query parameters in the request URL","OK"):401==t.status?s.alert("Unauthorized","Unauthorized – The request requires a user authentication","OK"):s.alert("Error",t,"OK")}})})}}});